<!DOCTYPE html> 
<html> 
<head> 
	<title>Add Question</title> 

	<meta name="viewport" content="width=device-width, initial-scale=1"> 
	<link rel="stylesheet" href="css/jquery.css" />
		<link rel="stylesheet" href="css/sme.min.css" />
	<script src="scripts/jquery.js"></script>
	<script src="scripts/jquerymobile.js"></script>
	<script type="text/javascript">
	 jQuery.ajaxSetup({ jsonp: null, jsonpCallback: null});
	 var cntr = 0;
		$(document).ready(function(){
			 

			//console.info($("#optype").children().size());
			$("#opttype").find("a").each(function(){
				$(this).click(function(){
					$(this).parent().find(".ui-btn-active").removeClass("ui-btn-active");
					$(this).addClass("ui-btn-active");
				});
			});
			
			$("#cgyn").click(function(){
				$("#yntd").show();
				$("#tftd").hide();
				$("#rngtd").hide();
				$("#custtd").hide();
			});
			$("#cgtf").click(function(){
				$("#yntd").hide();
				$("#tftd").show();
				$("#rngtd").hide();
				$("#custtd").hide();
			});
			$("#cgrng").click(function(){
				$("#yntd").hide();
				$("#tftd").hide();
				$("#rngtd").show();
				$("#custtd").hide();
			});
			$("#cgcust").click(function(){
				$("#yntd").hide();
				$("#tftd").hide();
				$("#rngtd").hide();
				$("#custtd").show();
			});
			
			$("#resdummy").bind("keypress", function(e){
				 var code = (e.keyCode ? e.keyCode : e.which);
				 if(code == 13) { //Enter keycode
				   //Do something
				   var dummy = $("#resdummy");
				   var myid = "nicknew_" + cntr;
				   var text = '<div class="ui-grid-a"><div class="ui-block-a" style="width:3%"><a data-role="button" data-icon="delete" data-iconpos="notext" data-mini="true" data-inline="true" valign="middle"></a></div><div class="ui-block-b" style="width:97%"><input type="text" id="' +myid +'"></div></div>';
				 	
				   var copyIp = $(dummy).clone()[0];
				   var valset = $(copyIp).val();
				   
				   //$(text).find(".ui-block-b").find("input").attr("id","nicknew");
				   //$(text).find(".ui-block-b").find("input").val(valset);
				   //console.info($(copyIp).html());
				   $("#custtd").append(text).trigger("create");
				   $("#"+myid).val(valset);
				   $("#"+myid).parent().parent().parent().find("a").click(function(){
					   $("#"+myid).parent().parent().parent().remove();
				   });
				   //console.info($("#"+myid).parent().parent().parent().find("a").attr('class'));
				   cntr++;
				   //$(copyIp).prepend("<a data-role='button' data-icon='delete' data-iconpos='notext' data-mini='true' data-inline='true'></a>");
				   //$(copyIp).attr("id", "newip");
				   //$(copyIp).appendTo($("#custtd"));
				   $(dummy).val("");
				 	
				 }
			});
		});
		
		function removeMe() {
			console.info(this);
		}
		
	</script>
</head> 
<body> 

<div data-role="page">

	<div data-role="header" data-theme="c">
		<a href="index.html" data-icon="home">Home</a>
		<h1>Survey.me</h1>
		<a href="logout.html" data-icon="grid">Logout</a>
	</div><!-- /header -->

	<div data-role="content" data-theme="c">
						
		<table class="ui-table" border="1">
	<!-- <tr>
			<td width="90%" vAlign="middle">Add Question</td>
			<td width="10%">
				<div data-role="controlgroup" data-type="horizontal">
					<a data-role="button" data-icon="plus" data-iconpos="notext" data-inline="true" data-mini="true"></a>
					<a data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" data-mini="true"></a>
				</div>
			</td>
		</tr> -->
		<tr>
			<td width="65%">
				<input type="text" name="qn" id="qnh" value="" placeholder="Enter question text">
			</td>
			<td>
				<div id="opttype" data-role="controlgroup" data-type="horizontal" width = "100%">
					<a data-role="button" id="cgyn">Yes / No</a>
					<a data-role="button" id="cgtf">True / False</a>
					<a data-role="button" id="cgrng">Range (1 - 5)</a>
					<a data-role="button" class="ui-btn-active" id="cgcust">Custom</a>
				</div>
			</td>
		</tr>
		<tr>
		<td colspan="2" id="yntd" style="display:none">
			<input type="text" id="ynyes" value="Yes" disabled>
			<input type="text" id="ynno" value="No" disabled>
		</td>
		<td colspan="2" id="tftd" style="display:none">
			<input type="text" id="tftrue" value="True" disabled>
			<input type="text" id="tfffalse" value="False" disabled>
		</td>
		<td colspan="2" id="rngtd" style="display:none">
			<input type="text" id="rngcd" value="Completely disagree" disabled>
			<input type="text" id="rngsd" value="Somewhat disagree" disabled>
			<input type="text" id="rngne" value="Neutral" disabled>
			<input type="text" id="rngsa" value="Somewhat agree" disabled>
			<input type="text" id="rngca" value="Completely agree" disabled>
		</td>
		<td colspan="2" id="custtd">
		<div class="ui-grid-solo">
			<div class="ui-block-a">
				<input type="text" name="resdummy" id="resdummy" value="" placeholder="Add response option">
			</div>
		</div>		
		</td>
		</tr>
		</table>	
	</div><!-- /content -->

	<div data-role="footer" data-theme="c">
		<a href="addOption.html" data-icon="arrow-l" data-mini="true" align="ui-btn-left">Prev</a>
		<a href="addOption.html" data-icon="arrow-r" data-mini="true" class="ui-btn-right">Next</a>
	</div>
</div><!-- /page -->

</body>
</html>